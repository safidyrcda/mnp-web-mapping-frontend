name: Deploy Frontend

on:
  push:
    branches: [ "main" ]

jobs:
  deploy:
    runs-on: self-hosted   # â† utiliser ton runner self-hosted
    steps:
      # 1ï¸âƒ£ RÃ©cupÃ©rer le code
      - name: Checkout repository
        uses: actions/checkout@v3


      # 3ï¸âƒ£ Build et dÃ©ploiement
      - name: Build & Deploy Frontend
        run: |
          cd /home/safidy/mnp-webmapping/frontend
          git fetch
          git reset --hard origin/main
          pnpm install
          pnpm run build
          pm2 reload webmapping-frontend
          echo "Frontend dÃ©ployÃ© avec succÃ¨s ! ğŸš€"

